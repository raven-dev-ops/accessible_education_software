[build]
  # Build the Next.js app from the apps/web directory so Netlify's Next.js
  # runtime can detect and wire routes correctly.
  base = "apps/web"
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "SAMEORIGIN"

# Netlify environment variables to configure in the UI:
# - NEXTAUTH_URL (e.g. https://your-netlify-site.netlify.app)
# - NEXTAUTH_SECRET (long random string)
# - GOOGLE_CLIENT_ID
# - GOOGLE_CLIENT_SECRET
# - NEXT_PUBLIC_AUTH_ENABLED ("true" to require Google login; "false" to show the public placeholder)
# - NEXT_PUBLIC_SHOW_STAGING_BANNER (set "true" on staging to show a banner)
# - ADMIN_EMAILS / TEACHER_EMAILS (comma-separated email allowlists for elevated roles)
# - OCR_SERVICE_URL (pointing at deployed OCR service)
# - DATABASE_URL (if using a managed Postgres instance)
